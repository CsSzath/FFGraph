# FFGraph - Heat Treatment Data Evaluation and Storage

## Introduction
FFGraph is an application designed to graphically evaluate and store the exported CSV heat-treatment files of an industrial smoker-cooker chambers made by KORAX Gépgyár Kft. The app ensures compliance with legal requirements by allowing users to analyze and store critical heat treatment data.

## Features
- Import and store CSV files generated by the machine's Control PLC.
- Graphically evaluate heat treatment data, including:
  - Air temperature
  - Core temperature
  - Humidity
  - Process steps
- Re-export CSV files from database, containing the data stored

## Data Structure
Each record in the original input CSV file contains:
- **#**: <int> index of the record
- **Date**: <int> converted to YY/MM/DD, from 1900.01.01
- **Time**: <float> converted to HH:MM:SS
- **Milliseconds**: <int> milliseconds in TimeOfDay
- **Day of Week**: <int> Day of the week by number [1...7]
- **Interval Time ms**: <int> time since process recording started
- **Sub Interval Time ms**: <int> time since last record was saved
- **Triggered**: <int> 0 - if record was saved automatically (time interval), 1 - if the save event was triggered by program
- **Kamra hőm. Values**: <int> Air temperature inside the machine [00.0°C]
- **Mag hőm. Value**: <int> Core temperature of the product [00.0°C]
- **Pára**: <int> Inside the chamber [%]
- **Lépés típus Values**: <int> (e.g., Drying, Cooking, Smoking, etc.)
- **Kamra beáll. Values**: <int> Set air temperature in the treatment program [00°C]
- **Mag beáll. Values**: <int> Set core temperature in the treatment program [00°C]
- **Pára beáll. Values**: <int> Set Humidity in the treatment program [%]

## Legal Compliance
According to regulations, the heat treatment data must:
- Prove that the product received the necessary heat treatment.
- Demonstrate that the required bacteria-killing thresholds were met.
- Be stored and made available for inspection by officials if required.
- It is the user's responsibility to use the software appropriately, ensure the integrity of the database, and provide accurate, non-falsified data for the program.

## User Guide
1. Selecting a Previously Imported Data Set
    After starting the program, the main screen displays drop-down menus for selecting a previously imported data set.
    Follow these steps:
    1) Select a Company: Use the first drop-down menu to choose a company.
    2) Select a Machine: Choose the machine associated with the selected company.
    3) Select a Product Name: Pick the product name from the list.
    4) Select a Date and Time: Finally, select the date and time of the production process.
    Once all selections are made, the data will be displayed on the charts.
2. Viewing Data on Charts
    The charts show the heat treatment process, including air temperature, core temperature, humidity, and the name of the process.
    - Click on the Chart: Clicking on a chart displays a tooltip with detailed information about the selected data point.
3. Viewing Key Metrics
    In the upper-right corner of the main screen, the following important metrics are displayed:
    - Full Time of the Process: Total duration of the heat treatment process.
    - Maximum Reached Core Temperature: The highest core temperature recorded during the process.
    - Time Above Threshold Temperature: The time spent above a given core temperature threshold (preset to 80°C).
4. Exporting Data to CSV
    After selecting a data set, you can export it to a CSV file:
    Click the "Export" button.
    The CSV file will be created with a filename containing:
    - Company name
    - Machine ID
    - Product name
    - Date and time of the process
5. Deleting a Data Set
    To delete a selected data set:
    Click the "Delete" button.
    Warning: Deleted data cannot be recovered unless it is re-imported from a CSV file.
6. Importing New Products
    To import new data:
    1) Click the "Import New Product" button to open the import screen.
    2) Drag and drop a CSV file generated by the industrial smoker-cooker machine into the program window.
    3) If the file is invalid or not importable, an error message will be displayed.
7. Saving Imported Data
    After importing, the data will be displayed on charts similar to those on the main screen.
    To save the data in the database for later evaluation:
    - Either select an existing company and machine ID from the drop-down menus.
    - Or manually type in the company name and machine ID.

## Example Workflow
1) Start the program and select a previously imported data set.
2) View the data on the charts and analyze key metrics.
3) Export the data to a CSV file for external use or delete it if no longer needed.
4) Import new data sets by dragging and dropping CSV files into the program window.
5) Save the imported data for future evaluation by associating it with a company and machine ID.

## Example CSV with header and a line of data
Data Sampler1
Fst.gyp.kötözött
Szárítás
#,Date,Time,Milliseconds,Day of week,Interval Time ms,Sub Interval Time ms,Triggered,Kamra Hőm. Values,Mag Hőm Values,Pára Values,Lépés típus Values,Kamra beáll. Values,Mag beáll. Values,Pára beáll. Values,
1,44277,0.35125,0,2,60004,60000,0,316,80,92,1,80,0,0,

